<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="The blog of a DevKid">
    <meta name="author" content="skriptble">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="shortcut icon" href="assets/ico/favicon.png">
    <title>skriptble &mdash; Puppet: Automate All The Things</title>
    <!-- Bootstrap -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/skriptble.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

  </head>
  <body>
        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="/">skriptble</a>
          <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar-main">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="navbar-collapse collapse" id="navbar-main">
          <ul class="nav navbar-nav">
            <li><a href="/resume">Resume</a></li>
            <li><a href="/about">About Me</a></li>
            <li><a href="/drafts">Drafts</a></li>
          </ul>
        </div>
      </div> <!-- /container -->
    </div>
    <div class="container">

      <header>
                      </header>
      <section id="main" role="main">
            <h1 class="page-title">Puppet: Automate All The Things
    <small class="category">Everything As Code</small>
    </h1>
    <span class="post-date">November 15, 2013</span>
  
  <p>Updating infrastructure is difficult. Especially when you want to move from an
old paradigm of manual everything to automated everything. Configuration
Management is something I&#8217;ve been hearing about more and more, but I haven&#8217;t had
a chance to dig into it. With the go ahead to build some new infrastructure,
I&#8217;m not diving deep into Puppet.</p>

<!-- more -->

<p>I&#8217;m dislike idealogical fights over tools. The process I try to follow is:</p>

<ol>
<li>Determine what you need</li>
<li>Figure out which tool has a change of meeting those needs.</li>
<li>Pick one.</li>
<li>If the one you picked doesn&#8217;t work, try the other.</li>
</ol>

<p>I enjoy diving into things and getting stuff done. Notice that I put the
determine what you need step first. It&#8217;s important to have an idea of what you
want, shoot for the sky and try to design an outside-the-box works for you
system. Things don&#8217;t move forward if we&#8217;re always relying on the tools that
exist and their capabilities to determine what we need. After it&#8217;s been
determined what&#8217;s needed, then the available tools are evaluated. If nothing
fits the lowest end of the criteria you&#8217;ve created, either build something new
or make compromises. Keep those initial needs somewhere important because
products grow and suggestions are usually welcome (especially in open source
projects).</p>

<p>I did this evaluation and figured out I had ample resources to learn puppet and
it would work with the infrastructure we choose. If puppet doesn&#8217;t work, we&#8217;ll
give Chef a try and then pick between the two.</p>

<h2>Learning Resources</h2>

<p>One of the factors in my team&#8217;s decision to use Puppet was the available
resources for myself and the Sysadmin to learn it. I have an account on Tutsplus
and a few months ago they made the <a href="http://www.packtpub.com/puppet-3-beginners-guide/book">Puppet 3 Beginner&#8217;s
Guide</a> available as a
free download for anyone with an account. I could have requested a chef book be
purchased, but it seemed easier to download and just get started. There were a
couple other factors in the decision, but I won&#8217;t dive into them right now.</p>

<p>I&#8217;ve gotten halfway through the book at this point and I&#8217;m excited to get
started with a real project, but the way the book is structured makes it more
doing stuff and less learning about theory and giving half usable examples. It&#8217;s
a great book for a beginner.</p>

<p>That said, the book is taking an interesting path. It isn&#8217;t using a PuppetMaster
to control the management of new nodes. Instead, it suggests using Git, which I
find novel. Using a tool that will be useful in other areas, instead of a
proprietary tool. That&#8217;s just my first evaluation, it might change in time.</p>

<h2>Don&#8217;t Take Shortcuts</h2>

<p>This is a big one. I&#8217;ve fallen into this trap before and it is anything but a
fun place to be. I&#8217;ll work on a project and get almost to the end goal and then
rush the end. It always winds up ruining the progress of the project, and the
outcome is usually more work to get things right or a thing that doesn&#8217;t do
everything it was supposed to. Same goes for configuration management and
managing everything as code. It&#8217;s important not to cheat. Once you trigger that
configuration management tool, you shouldn&#8217;t be doing anything by hand that
isn&#8217;t in a git repository or stored elsewhere. Don&#8217;t install shiny new packages
by hand, use the configuration management tool.</p>

<p>It can be annoying and time consuming to hunt down bugs caused because one
package was installed by hand and deploying the system breaks everything. The
couple of extra seconds it takes to do it in an uncomfortable tool is well worth
it. Not only does this help keep the debugging time down later, the more you use
a new tool the more adept you&#8217;ll become with using it.</p>

<p>When I was starting to get into advanced git usage, I started using my GUI
client as a crutch because I didn&#8217;t want to spend the time to look up the
command to do what I wanted. It caused me to waste more time getting the
repository onto my computer just to update it with Sourcetree. One day I decided
enough was enough and actually figured out how to accomplish the task<sup>1</sup>.
Now every time I need to do that task, I can type a few keystrokes and it&#8217;s
done. No more clone, modify, push cycle necessary.</p>

<p>Ultimately, writing everything as code is something that you have to decide if
you want to commit to. If you&#8217;re not going to commit 100% to it, just set the
boundaries. Know which situations you&#8217;ll want to use everything as code in and
which you don&#8217;t. There is nothing wrong with that. There is something wrong with
doing adhoc everything and having no plan.</p>

<p><small>1: The actual task was selecting certain lines to commit. Using git add
-p doesn&#8217;t work because it will only break a chunk down so far.</small></p>

      </section>
      <footer>
                        <p>Baked with <em><a href="http://bolt80.com/piecrust/">PieCrust</a> 1.0.2</em>.</p>
      </footer>
    </div>
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="/js/bootstrap.js"></script>
    
   <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45623011-1', 'skriptble.github.io');
  ga('send', 'pageview');

</script>
  </body>
</html>
